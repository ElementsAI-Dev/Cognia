---
description: Add internationalization (i18n) support with translation keys for both English and Chinese.
---

## User Input

```text
$ARGUMENTS
```

You **MUST** consider the user input before proceeding (if not empty).

## Outline

1. **Parse Arguments**: Determine scope:
   - New feature requiring translations
   - Specific component/module
   - Batch update for existing keys

2. **Locate Translation Files**:
   - English: `locales/en/*.json`
   - Chinese: `locales/zh-CN/*.json`

3. **Add Translation Keys**:

   **Key Naming Convention**:

   ```
   <module>.<feature>.<element>
   ```

   **Examples**:

   ```json
   {
     "chat.input.placeholder": "Type a message...",
     "chat.input.send": "Send",
     "settings.appearance.theme": "Theme",
     "settings.appearance.theme.light": "Light",
     "settings.appearance.theme.dark": "Dark"
   }
   ```

4. **Update Both Language Files**:

   **English** (`locales/en/<module>.json`):

   ```json
   {
     "title": "Settings",
     "description": "Configure your preferences"
   }
   ```

   **Chinese** (`locales/zh-CN/<module>.json`):

   ```json
   {
     "title": "设置",
     "description": "配置您的偏好设置"
   }
   ```

5. **Usage in Components**:

   **With useTranslation hook**:

   ```typescript
   import { useTranslation } from 'react-i18next'

   function Component() {
     const { t } = useTranslation()
     
     return (
       <div>
         <h1>{t('settings.title')}</h1>
         <p>{t('settings.description')}</p>
       </div>
     )
   }
   ```

   **With namespace**:

   ```typescript
   const { t } = useTranslation('settings')
   // Now use: t('title') instead of t('settings.title')
   ```

   **With interpolation**:

   ```typescript
   // Translation: "Hello, {{name}}!"
   t('greeting', { name: 'User' })
   ```

   **With pluralization**:

   ```typescript
   // Translation: "{{count}} item" / "{{count}} items"
   t('items', { count: 5 })
   ```

## Translation File Structure

```
locales/
├── en/
│   ├── common.json
│   ├── chat.json
│   ├── settings.json
│   └── ...
└── zh-CN/
    ├── common.json
    ├── chat.json
    ├── settings.json
    └── ...
```

## Key Categories

| Category | Description | Example Key |
|----------|-------------|-------------|
| `common` | Shared across app | `common.save`, `common.cancel` |
| `chat` | Chat interface | `chat.input.placeholder` |
| `settings` | Settings page | `settings.appearance.theme` |
| `agent` | Agent system | `agent.status.running` |
| `error` | Error messages | `error.network.timeout` |

## Best Practices

- Keep keys hierarchical and descriptive
- Always add both `en` and `zh-CN` translations
- Use interpolation `{{variable}}` for dynamic content
- Use pluralization for countable items
- Keep translations concise for UI elements
- Group related keys under common prefix

## Common Translations

| English | Chinese |
|---------|---------|
| Save | 保存 |
| Cancel | 取消 |
| Delete | 删除 |
| Edit | 编辑 |
| Settings | 设置 |
| Loading... | 加载中... |
| Error | 错误 |
| Success | 成功 |
| Confirm | 确认 |
| Close | 关闭 |

## Verification

After adding translations:

1. Check JSON syntax is valid
2. Verify keys exist in both language files
3. Test in browser with language switch
4. Check for missing translations in console

## Notes

- Never hardcode user-facing strings
- Use namespaces to organize large translation files
- Keep translation keys stable (avoid frequent changes)
- Document context for translators if meaning is ambiguous
